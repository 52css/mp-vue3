import{_ as s,c as n,o as a,a4 as l}from"./chunks/framework.DsvKXnjw.js";const u=JSON.parse('{"title":"definePage","description":"","frontmatter":{},"headers":[],"relativePath":"æ¡†æ¶æ¥å£/é¡µé¢ Page/definePage - ğŸ”¥ âœ¨.md","filePath":"æ¡†æ¶æ¥å£/é¡µé¢ Page/definePage - ğŸ”¥ âœ¨.md"}'),e={name:"æ¡†æ¶æ¥å£/é¡µé¢ Page/definePage - ğŸ”¥ âœ¨.md"},p=l(`<h1 id="definepage" tabindex="-1">definePage <a class="header-anchor" href="#definepage" aria-label="Permalink to &quot;definePage&quot;">â€‹</a></h1><ul><li>ç»§æ‰¿<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html" target="_blank" rel="noreferrer">å¾®ä¿¡å°ç¨‹åº Page</a></li><li>æ‰©å……æ”¯æŒ <code>Function</code></li><li>ğŸ‘ å¯¹è±¡é»˜è®¤ä¸‹æ‰©å…… <code>setup</code> æ–¹æ³•</li></ul><h2 id="æ‰©å……æ”¯æŒ-function" tabindex="-1">æ‰©å……æ”¯æŒ <code>Function</code> <a class="header-anchor" href="#æ‰©å……æ”¯æŒ-function" aria-label="Permalink to &quot;æ‰©å……æ”¯æŒ \`Function\`&quot;">â€‹</a></h2><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { definePage, ref } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;@52css/mp-vue3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">definePage</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">query</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">context</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> count</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#B392F0;"> onIncrease</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    count.value</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// æ•°æ®å˜æ›´ï¼Œè‡ªåŠ¨å“åº” this.data.count</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // æ‰€æœ‰çš„æ•°æ®å’Œæ–¹æ³•éœ€è¦è¿”å›</span></span>
<span class="line"><span style="color:#F97583;">  return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    count,</span></span>
<span class="line"><span style="color:#E1E4E8;">    onIncrease</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h2 id="ğŸ‘-å¯¹è±¡é»˜è®¤ä¸‹æ‰©å……-setup-æ–¹æ³•" tabindex="-1">ğŸ‘ å¯¹è±¡é»˜è®¤ä¸‹æ‰©å…… <code>setup</code> æ–¹æ³• <a class="header-anchor" href="#ğŸ‘-å¯¹è±¡é»˜è®¤ä¸‹æ‰©å……-setup-æ–¹æ³•" aria-label="Permalink to &quot;ğŸ‘ å¯¹è±¡é»˜è®¤ä¸‹æ‰©å…… \`setup\` æ–¹æ³•&quot;">â€‹</a></h2><ul><li>âœ¨ å¢åŠ  <code>queries</code> å®šä¹‰, æ¨å¯¼ <code>query</code> ç±»å‹</li><li>âœ¨ å¢åŠ  <code>query</code> å¯¹åº”é…ç½®ç±»å‹æ•°æ®è½¬æ¢</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { definePage, ref, PropType } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;@52css/mp-vue3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">type</span><span style="color:#B392F0;"> User</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#FFAB70;">  id</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;"> number</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#FFAB70;">  name</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;"> string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">definePage</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#6A737D;">  // å¦‚æœè¿™é‡Œå®šä¹‰äº†</span></span>
<span class="line"><span style="color:#FFAB70;">  queries</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#FFAB70;">    name</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> String</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// ç±»å‹ä¸å¤„ç†</span></span>
<span class="line"><span style="color:#FFAB70;">    a</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> Boolean</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// ç±»å‹ Boolean è½¬æ¢</span></span>
<span class="line"><span style="color:#FFAB70;">    b</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> Number</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// ç±»å‹ Number è½¬æ¢</span></span>
<span class="line"><span style="color:#FFAB70;">    user</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> Object</span><span style="color:#B392F0;"> as</span><span style="color:#B392F0;"> PropType</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;">&gt;, </span><span style="color:#6A737D;">// ç±»å‹ JSON.parse(decodeURIComponent(val)) è½¬æ¢</span></span>
<span class="line"><span style="color:#FFAB70;">    userList</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> Array</span><span style="color:#B392F0;"> as</span><span style="color:#B392F0;"> PropType</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;">[]&gt;, </span><span style="color:#6A737D;">// ç±»å‹ JSON.parse(decodeURIComponent(val)) è½¬æ¢</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#B392F0;">  setup</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">query</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#6A737D;">    // åŸå§‹ç±»å‹ name=vendor&amp;a=&amp;b=123&amp;user=%7B%22id%22%3A1%2C%22name%22%3A%22%E5%BC%A0%E4%B8%89%22%7D&amp;userList=%5B%7B%22id%22%3A1%2C%22name%22%3A%22%E5%BC%A0%E4%B8%89%22%7D%5D</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;ğŸš€ ~ setup ~ query:&quot;</span><span style="color:#E1E4E8;">, query) </span><span style="color:#6A737D;">// è½¬æ¢ç±»å‹ {name: &quot;vendor&quot;, a: false, b: 123, user: {id: 1, name: &#39;å¼ ä¸‰&#39;}, userList: [{id: 1, name: &#39;å¼ ä¸‰&#39;}]}</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> count</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#B392F0;"> onIncrease</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      count.value</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// æ•°æ®å˜æ›´ï¼Œè‡ªåŠ¨å“åº” this.data.count</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    // æ‰€æœ‰çš„æ•°æ®å’Œæ–¹æ³•éœ€è¦è¿”å›</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      count,</span></span>
<span class="line"><span style="color:#E1E4E8;">      onIncrease</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h2 id="setup-å‚æ•°" tabindex="-1">Setup å‚æ•° <a class="header-anchor" href="#setup-å‚æ•°" aria-label="Permalink to &quot;Setup å‚æ•°&quot;">â€‹</a></h2><h3 id="pagequery-å±æ€§" tabindex="-1">PageQuery å±æ€§ <a class="header-anchor" href="#pagequery-å±æ€§" aria-label="Permalink to &quot;PageQuery å±æ€§&quot;">â€‹</a></h3><ul><li>è¯»å–<code>onLoad</code>å¯¹åº”query</li></ul>`,10),o=[p];function c(t,r,E,y,i,F){return a(),n("div",null,o)}const B=s(e,[["render",c]]);export{u as __pageData,B as default};
